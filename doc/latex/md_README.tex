Doxygen is a tool that parses source code, finds specially-\/formatted comments, and produces nice-\/looking documentation files out of them. This repository is set up as an example that shows how Doxygen can be used.

For more information about how Doxygen works, see the \href{https://www.doxygen.nl/index.html}{\texttt{ official Doxygen website}}.

The Doxygen output for the project is available \href{http://kkovacs.gitlab-pages/doxygen_example/files.html}{\texttt{ here}}.

\doxysection*{This Repository}

There are a few example C++ files in the {\ttfamily src/} directory. To run the code, there is a {\ttfamily run.\+sh} file, which compiles the code and runs the result. An {\ttfamily autoformat.\+sh} script is also provided for completeness.

\doxysection*{How to Install Doxygen}

\doxysubsection*{WSL Installation Instructions}

If you are using a Windows computer, you should be using Windows Subsystem for Linux (WSL). There is no reason not to use it. It is vastly superior to the available Windows command prompt and to alternatives like Git\+Bash. On top of that, you should be using WSL-\/\+TTY. If you use these, installing doxygen is as simple as following the steps below.

Doxygen can be installed with apt.


\begin{DoxyCode}{0}
\DoxyCodeLine{sudo\ apt-\/get\ install\ doxygen}

\end{DoxyCode}


In order for the pretty source tree graphs to be generated, you also need to install graphviz.


\begin{DoxyCode}{0}
\DoxyCodeLine{sudo\ apt\ install\ graphviz}

\end{DoxyCode}


Now you should be able to run Doxygen from the command line.


\begin{DoxyCode}{0}
\DoxyCodeLine{doxygen\ -\/-\/version}

\end{DoxyCode}


\doxysubsection*{Windows Installation Instructions}

If for some reason you are not using WSL, you can follow these steps to install Doxygen.


\begin{DoxyEnumerate}
\item Download and install Doxygen for Windows from the Doxygen website.
\item Add Doxygen to the Windows PATH.
\item Install the latest stable release of graphviz.
\item Add graphviz to the Windows PATH.
\item Modify the {\ttfamily Doxyfile}\textquotesingle{}s {\ttfamily DOT\+\_\+\+PATH} variable to point to the path of the graphviz executable.
\item Run doxygen.
\end{DoxyEnumerate}

\doxysection*{How to Use Doxygen}

There is a file called {\ttfamily Doxyfile} that controls how Doxygen will run. A new {\ttfamily Doxyfile} can be generated by using {\ttfamily doxygen -\/g \texorpdfstring{$<$}{<}filename\texorpdfstring{$>$}{>}} (leave the filename blank normally). This configuration file can be modified to change how Doxygen runs, and each project has its own {\ttfamily Doxyfile}.

To run doxygen, simply navigate to the project directory and run {\ttfamily doxygen}. It will look for source files, parse them, and generate output. For this project, a new folder called {\ttfamily generated-\/docs} will be created, but with the default configuration, the output will simply appear in the same folder as the {\ttfamily Doxyfile}. Inside the output folder or directly in the root folder, there will be an {\ttfamily html} folder, with a file called {\ttfamily index.\+html} in it. Open the {\ttfamily index.\+html} file with a web browser to view the documentation.

\doxysection*{How to Deploy Doxygen to Gitlab}

After each push, Gitlab scans your repository for a file called {\ttfamily .gitlab-\/ci.\+yml}. If that file is present, it will read the file and check that the file specifies a valid CI pipeline. If it is valid, then Gitlab looks for an available \char`\"{}runner.\char`\"{} Runners can be other computers on the network, but in this case the runner is a docker container within the gitlab server virtual machine. Once a runner is available, Gitlab assigns a build for the project to the runner. The runner uses the pipeline from the {\ttfamily .gitlab-\/ci.\+yml} configuration file to know what actions to take. Part of that pipeline can include exporting build artifacts (like Doxygen html files or firmware .hex files).

For our Doxygen deploys, the configuration file will specify that {\ttfamily doxygen} is to be run, and that the built files are to be copied to the correct location for deployment. So in short, including the {\ttfamily .gitlab-\/ci.\+yml} will cause your deployed documents to update every time you push.

\doxysection*{How to Comment for Doxygen}

Doxygen comments start with {\ttfamily /$\ast$$\ast$} and end with {\ttfamily $\ast$/}, like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{void}\ exampleFunction(\textcolor{keywordtype}{void});}

\end{DoxyCode}


A comment block like this will be recognized by Doxygen and will end up in the documentation. These blocks can contain differnt types of keywords, such as {\ttfamily \textbackslash{}brief}, {\ttfamily \textbackslash{}param}, and {\ttfamily \textbackslash{}return}. An example C function is shown below using these. More examples can be found in the {\ttfamily src/} directory of this repository.


\begin{DoxyCode}{0}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ add(\textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{int}\ y)\ \{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{return}\ x\ +\ y;}
\DoxyCodeLine{\}}

\end{DoxyCode}


This Doxygen comment is complete, because it contains a {\ttfamily \textbackslash{}brief} description of the function, it contains a detailed description beneath that, and it contains {\ttfamily \textbackslash{}param} and {\ttfamily \textbackslash{}return} descriptions for all its parameters and its return value.

\doxysection*{Commenting for C/\+C++ with Header Files}

In general, high-\/level comments (for documentation) should go in the header file, not the corresponding C file. Comments belong with {\itshape declarations}, not with {\itshape definitions}. For C++ classes, the {\ttfamily .hpp} file should be full of member declarations and Doxygen comments, while the corresponding {\ttfamily .cpp} file should consist mostly of just code.

Inline comments that are embedded inside of a function\textquotesingle{}s body should of course go in the function definition itself (in the {\ttfamily .cpp} file). Functions that do not appear in the header file should be given Doxygen comments in the C file.

In short, there should never be 2 Doxygen comments for the same member, and putting the Doxygen comments in header files is preferred.

\doxysection*{Grouping Members}

You can also group members that go together. For example, you may have 5 constants that would require the same documentation\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ MEW2KING\ 1}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ ARMADA\ 2}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ HUNGRYBOX\ 3}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ MANGO\ 4}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ PPMD\ 5}}

\end{DoxyCode}


Instead of writing out the same documentation comment for each of these members, you can create a group like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ MEW2KING\ 1}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ ARMADA\ 2}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ HUNGRYBOX\ 3}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ MANGO\ 4}}
\DoxyCodeLine{\textcolor{preprocessor}{\#define\ PPMD\ 5}}

\end{DoxyCode}


If the {\ttfamily DISTRIBUTE\+\_\+\+GROUP\+\_\+\+DOC} option is set to \char`\"{}\+YES\char`\"{} in the {\ttfamily Doxyfile}, then the documentation comment will be applied to all the member in the group. The {\ttfamily \textbackslash{}name} tag also shows up as a heading over the group members.

\doxysection*{This Repository\textquotesingle{}s {\ttfamily Doxyfile}}

The {\ttfamily Doxyfile} in this repository was generated using {\ttfamily doxygen -\/g}, and then edited in the following way\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Line\ 35:}
\DoxyCodeLine{PROJECT\_NAME\ \ \ \ \ \ \ \ \ \ \ =\ "{}Kyle's\ Doxygen\ Test"{}}
\DoxyCodeLine{Line\ 47:}
\DoxyCodeLine{PROJECT\_BRIEF\ \ \ \ \ \ \ \ \ \ =\ "{}This\ is\ just\ a\ test\ of\ Doxygen"{}}
\DoxyCodeLine{Line\ 54:}
\DoxyCodeLine{PROJECT\_LOGO\ \ \ \ \ \ \ \ \ \ \ =\ "{}./DiConIcon.ico"{}}
\DoxyCodeLine{Line\ 61:}
\DoxyCodeLine{OUTPUT\_DIRECTORY\ \ \ \ \ \ \ =\ "{}generated-\/docs"{}}
\DoxyCodeLine{Line\ 438:}
\DoxyCodeLine{EXTRACT\_ALL\ \ \ \ \ \ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 363:}
\DoxyCodeLine{DISTRIBUTE\_GROUP\_DOC\ \ \ =\ YES}
\DoxyCodeLine{Line\ 444:}
\DoxyCodeLine{EXTRACT\_PRIVATE\ \ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 450:}
\DoxyCodeLine{EXTRACT\_PACKAGE\ \ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 456:}
\DoxyCodeLine{EXTRACT\_STATIC\ \ \ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 481:}
\DoxyCodeLine{EXTRACT\_ANON\_NSPACES\ \ \ =\ YES}
\DoxyCodeLine{Line\ 759:}
\DoxyCodeLine{WARN\_NO\_PARAMDOC\ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 867:}
\DoxyCodeLine{RECURSIVE\ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 876:}
\DoxyCodeLine{EXCLUDE\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ =\ README.md}
\DoxyCodeLine{Line\ 998:}
\DoxyCodeLine{SOURCE\_BROWSER\ \ \ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 1004:}
\DoxyCodeLine{INLINE\_SOURCES\ \ \ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 1017:}
\DoxyCodeLine{REFERENCED\_BY\_RELATION\ =\ YES}
\DoxyCodeLine{Line\ 1023:}
\DoxyCodeLine{REFERENCES\_RELATION\ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 1031:}
\DoxyCodeLine{REFERENCES\_LINK\_SOURCE\ =\ NO}
\DoxyCodeLine{Line\ 2334:}
\DoxyCodeLine{CALL\_GRAPH\ \ \ \ \ \ \ \ \ \ \ \ \ =\ YES}
\DoxyCodeLine{Line\ 2346:}
\DoxyCodeLine{CALLER\_GRAPH\ \ \ \ \ \ \ \ \ \ \ =\ YES}

\end{DoxyCode}


{\bfseries{NOTE}}\+: The {\ttfamily Di\+Con\+Icon.\+ico} file needs to be accessible at the given path (in this case in the root of the repository) in order for it to show up in the documentation pages.

\doxysection*{Tips/\+Rules}


\begin{DoxyItemize}
\item Always use a {\ttfamily \textbackslash{}param} tag for every parameter.
\item Always use a {\ttfamily \textbackslash{}return} tag is the function returns a non-\/void value.
\item Always include a {\ttfamily \textbackslash{}brief} description in addition to a long description.
\item Always put a Doxygen comment on every class, function, or macro in the source code. 
\end{DoxyItemize}